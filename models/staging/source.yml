version: 2

sources:
  - name: kaggle_f1
    database: ICOOPER_ANALYTICS
    schema: RAW
    tables:
      - name: races
        description: "{{doc('races_def')}}"
        columns:
          - name: raceid
            description: "{{doc('raceid_def')}}"
            tests:
              - unique:
                  severity: error
              - not_null:
                  severity: error
          - name: year
            description: "{{doc('year_def')}}"
          - name: round
            description: "{{doc('round_def')}}"
          - name: circuitid
            description: "{{doc('circuitid_def')}}"
          - name: name
            description: "{{doc('race_name_def')}}"
          - name: date
            description: "{{doc('date_def')}}"
          - name: time
            description: "{{doc('start_time_def')}}"
          - name: url
            description: "{{doc('url_def')}}"

      - name: results
        description: "{{doc('results_def')}}"
        columns:
          - name: resultid
            description: "{{doc('resultid_def')}}"
            tests:
              - unique:
                  severity: error
              - not_null:
                  severity: error
          - name: raceid
            description: "{{doc('raceid_def')}}"
          - name: driverid
            description: "{{doc('driverid_def')}}"
          - name: constructorid
            description: "{{doc('constructorid_def')}}"
          - name: number
            description: "{{doc('number_def')}}"
          - name: grid
            description: "{{doc('grid_def')}}"
          - name: position
            description: "{{doc('position_def')}}"
          - name: positionorder
            description: "{{doc('positionorder_def')}}"
          - name: points
            description: "{{doc('points_def')}}"
          - name: laps
            description: "{{doc('laps_def')}}"
          - name: time
            description: "{{doc('lap_time_def')}}"
          - name: milliseconds
            description: "{{doc('lap_time_milliseconds_def')}}"
          - name: fastestlap
            description: "{{doc('fastestlap_def')}}"
          - name: rank
            description: "{{doc('rank_def')}}"
          - name: fastestlaptime
            description: "{{doc('fastestlaptime_def')}}"
          - name: fastestlapspeed
            description: "{{doc('fastestlapspeed_def')}}"
          - name: statusdd
            description: "{{doc('statusid_def')}}"

      - name: drivers
        description: "{{doc('drivers_def')}}"
        columns:
          - name: driverrefnum
            description: "{{ doc('driver_ref_num_def') }}"
          - name: code
            description: "{{ doc('driver_code_def') }}"
          - name: forename
            description: "{{ doc('driver_forename_def') }}"
          - name: surname
            description: "{{ doc('driver_surname_def') }}"
          - name: dob
            description: "{{ doc('driver_dob_def') }}"
          - name: nationality
            description: "{{ doc('driver_nationality_def') }}"
          - name: url
            description: "{{ doc('driver_url_def') }}"


      - name: constructors
        description: "{{doc('constructors_def')}}"
        columns:
          - name: constructorref
            description: "{{ doc('constructor_ref_def') }}"
          - name: name
            description: "{{ doc('contructor_name_def') }}"
          - name: nationality
            description: "{{ doc('constructor_nationality_def') }}"
          - name: url
            description: "{{ doc('constructor_url_def') }}"

      - name: lap_times
        description: "{{doc('lap_times_def')}}"
        columns:
          - name: lap
            description: "{{ doc('lap_def') }}"
          - name: position
            description: "{{ doc('position_def') }}"
          - name: time
            description: "{{ doc('lap_time_def') }}"
          - name: milliseconds
            description: "{{ doc('lap_time_milliseconds_def') }}"


      - name: pit_stops
        description: "{{doc('pit_stops_def')}}"

      - name: qualifying
        description: "{{doc('qualifying_def')}}"

      - name: seasons
        description: "{{doc('seasons_def')}}"

      - name: status
        description: "{{doc('status_def')}}"

      - name: constructor_results
        description: "{{doc('constructor_results_def')}}"

      - name: sprint_results
        description: "{{doc('sprint_results_def')}}"

      - name: constructor_standings
        description: "{{doc('constructor_standings_def')}}"

      - name: driver_standings
        description: "{{doc('driver_standings_def')}}"

      - name: circuits
        description: "{{doc('circuits_def')}}"
